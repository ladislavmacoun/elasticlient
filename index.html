<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Elasticlient: C++ elasticlient library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Elasticlient
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">C++ elasticlient library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>C++ elasticlient library is simple library for simplified work with Elasticsearch in C++.</p>
<p>You can find some basic information - how to build library and how to use it in <a href="https://github.com/seznam/elasticlient/blob/master/Readme.md">Readme.md</a> file.</p>
<h1><a class="anchor" id="provided_classes"></a>
Provided features</h1>
<h2><a class="anchor" id="helpercls_subsec"></a>
Major provided classes</h2>
<ul>
<li><a class="el" href="classelasticlient_1_1Client.html">elasticlient::Client</a> - main library class which maintain connection to Elasticsearch cluster and implements methods which can be called on the cluster such as search, get, index, remove, etc. It takes care about choosing Elasticsearch node alive.</li>
<li><a class="el" href="classelasticlient_1_1Bulk.html">elasticlient::Bulk</a> - class which is able to perform bulk actions (Bulk API) on <a class="el" href="classelasticlient_1_1Client.html">elasticlient::Client</a>.</li>
<li><a class="el" href="classelasticlient_1_1Scroll.html">elasticlient::Scroll</a> - class which is able to use Scroll API on <a class="el" href="classelasticlient_1_1Client.html">elasticlient::Client</a>.</li>
<li><a class="el" href="classelasticlient_1_1ScrollByScan.html">elasticlient::ScrollByScan</a> - class which is able to use Scroll API with DEPRECATED scan option on <a class="el" href="classelasticlient_1_1Client.html">elasticlient::Client</a>.</li>
</ul>
<h2><a class="anchor" id="helperfunc_subsec"></a>
Helper functions</h2>
<ul>
<li><a class="el" href="namespaceelasticlient.html#a43dd2cdebd3ac5136ca38b5ab5bb7212">elasticlient::setLogFunction(LogCallback extLogFunction)</a> - function for set custom logging callback (for debugging purposes).</li>
</ul>
<h2><a class="anchor" id="helperenums_subsec"></a>
Helper enumerations</h2>
<ul>
<li><a class="el" href="namespaceelasticlient.html#aaaafc04bb2a5fe4cc06cacd88a5aee70">elasticlient::LogLevel</a> - logging levels, used for definition of seriousness of the log message</li>
</ul>
<h1><a class="anchor" id="how_to"></a>
How to use the library</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cpr/response.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="client_8h.html">elasticlient/client.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">// Prepare Client for nodes of one Elasticsearch cluster</span></div>
<div class="line">    <a class="code" href="classelasticlient_1_1Client.html">elasticlient::Client</a> client({<span class="stringliteral">&quot;http://elastic1.host:9200/&quot;</span>}); <span class="comment">// last / is mandatory</span></div>
<div class="line"> </div>
<div class="line">    std::string document {<span class="stringliteral">&quot;{\&quot;message\&quot;: \&quot;Hello world!\&quot;}&quot;</span>};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Index the document, index &quot;testindex&quot; must be created before</span></div>
<div class="line">    cpr::Response indexResponse = client.<a class="code" href="classelasticlient_1_1Client.html#a45be35dbda7dbd2979eca65b1d5a52d5">index</a>(<span class="stringliteral">&quot;testindex&quot;</span>, <span class="stringliteral">&quot;docType&quot;</span>, <span class="stringliteral">&quot;docId&quot;</span>, document);</div>
<div class="line">    <span class="comment">// 200</span></div>
<div class="line">    std::cout &lt;&lt; indexResponse.status_code &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// application/json; charset=UTF-8</span></div>
<div class="line">    std::cout &lt;&lt; indexResponse.header[<span class="stringliteral">&quot;content-type&quot;</span>] &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Elasticsearch response (JSON text string)</span></div>
<div class="line">    std::cout &lt;&lt; indexResponse.text &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Retrieve the document</span></div>
<div class="line">    cpr::Response retrievedDocument = client.get(<span class="stringliteral">&quot;testindex&quot;</span>, <span class="stringliteral">&quot;docType&quot;</span>, <span class="stringliteral">&quot;docId&quot;</span>);</div>
<div class="line">    <span class="comment">// 200</span></div>
<div class="line">    std::cout &lt;&lt; retrievedDocument.status_code &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// application/json; charset=UTF-8</span></div>
<div class="line">    std::cout &lt;&lt; retrievedDocument.header[<span class="stringliteral">&quot;content-type&quot;</span>] &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Elasticsearch response (JSON text string) where key &quot;_source&quot; contain:</span></div>
<div class="line">    <span class="comment">// {&quot;message&quot;: &quot;Hello world!&quot;}</span></div>
<div class="line">    std::cout &lt;&lt; retrievedDocument.text &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Remove the document</span></div>
<div class="line">    cpr::Response removedDocument = client.remove(<span class="stringliteral">&quot;testindex&quot;</span>, <span class="stringliteral">&quot;docType&quot;</span>, <span class="stringliteral">&quot;docId&quot;</span>);</div>
<div class="line">    <span class="comment">// 200</span></div>
<div class="line">    std::cout &lt;&lt; removedDocument.status_code &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// application/json; charset=UTF-8</span></div>
<div class="line">    std::cout &lt;&lt; removedDocument.header[<span class="stringliteral">&quot;content-type&quot;</span>] &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Elasticsearch response (JSON text string)</span></div>
<div class="line">    std::cout &lt;&lt; removedDocument.text &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p> You can also find this and more examples of basic usage of library <a href="https://github.com/seznam/elasticlient#how-to-use">here</a>.</p>
<p>Templated version of the constructor <a class="el" href="classelasticlient_1_1Client.html#acb6c8b4d14d821139351b444592eb252">elasticlient::Client::Client</a> accepts option arguments to set timeout, proxy servers or SSL. Just pass these instances to it in any order (just after vector of cluster nodes):</p><ul>
<li><a class="el" href="structelasticlient_1_1Client_1_1TimeoutOption.html">elasticlient::Client::TimeoutOption</a> - HTTP request timeout in ms.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1ConnectTimeoutOption.html">elasticlient::Client::ConnectTimeoutOption</a> - Connect timeout in ms.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1ProxiesOption.html">elasticlient::Client::ProxiesOption</a> - Proxy server settings.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1SSLOption.html">elasticlient::Client::SSLOption</a><ul>
<li><a class="el" href="structelasticlient_1_1Client_1_1SSLOption_1_1CertFile.html">elasticlient::Client::SSLOption::CertFile</a> - path to the SSL certificate file.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1SSLOption_1_1KeyFile.html">elasticlient::Client::SSLOption::KeyFile</a> - path to the SSL certificate key file.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1SSLOption_1_1CaInfo.html">elasticlient::Client::SSLOption::CaInfo</a> - path to the CA bundle if custom CA is used.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1SSLOption_1_1VerifyHost.html">elasticlient::Client::SSLOption::VerifyHost</a> - verify the certificate's name against host.</li>
<li><a class="el" href="structelasticlient_1_1Client_1_1SSLOption_1_1VerifyPeer.html">elasticlient::Client::SSLOption::VerifyPeer</a> - verify the peer's SSL certificate. </li>
</ul>
</li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="aclasselasticlient_1_1Client_html_a45be35dbda7dbd2979eca65b1d5a52d5"><div class="ttname"><a href="classelasticlient_1_1Client.html#a45be35dbda7dbd2979eca65b1d5a52d5">elasticlient::Client::index</a></div><div class="ttdeci">cpr::Response index(const std::string &amp;indexName, const std::string &amp;docType, const std::string &amp;id, const std::string &amp;body, const std::string &amp;routing=std::string())</div></div>
<div class="ttc" id="aclasselasticlient_1_1Client_html"><div class="ttname"><a href="classelasticlient_1_1Client.html">elasticlient::Client</a></div><div class="ttdoc">Class for managing Elasticsearch connection in one Elasticsearch cluster.</div><div class="ttdef"><b>Definition:</b> client.h:35</div></div>
<div class="ttc" id="aclient_8h_html"><div class="ttname"><a href="client_8h.html">client.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
